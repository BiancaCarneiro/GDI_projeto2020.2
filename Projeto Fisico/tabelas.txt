create table EMPREGADO (  
  cpf           varchar2(11 CHAR),  
  name          varchar2(50) not null,  
  cpf_chefe     varchar2(11 CHAR) default null,
  constraint pk_empregado primary key (cpf),
  constraint fk_empregado_empregado foreign key (cpf_chefe)
                references EMPREGADO (cpf)
);
    
create table ESTAGIARIO (
  cpf           varchar2(11 CHAR),
  bolsa         number not null,
  faculdade     varchar2(60) not null,
  constraint pk_estagiario primary key (cpf),
  constraint fk_estagiario_empregado foreign key (cpf)
                references EMPREGADO (cpf)
);
    
create table SENIOR (
  cpf           varchar2(11 CHAR),
  area          varchar2(50),
  salario       number not null,
  constraint pk_senior primary key (cpf),
  constraint fk_senior_empregado foreign key (cpf)
                references EMPREGADO (cpf)
);
    
create table DESENVOLVEDORA (
  id           number,
  name            varchar2(50) not null,
  qtd_jogos       number not null,
  constraint pk_desenvolvedora primary key (id)
);
    
create table PROMOCAO (
  id                  number,
  percent_desconto       varchar2(50),
  constraint pk_promocao primary key (id)
);

create table CONSUMIDOR (
  email          varchar2(50),
  name           varchar2(50) not null,
  usrname        varchar2(50),
  constraint pk_consumidor primary key (email)
);

create table JOGO (
  id             number,
  codigo            number,
  name              varchar2(50) not null,
  preco             number not null,
  car_faixa_etaria  number not null,
  constraint pk_jogo primary key (id, codigo),
  constraint fk_jogo_desenvolvedora foreign key (id)
                references DESENVOLVEDORA (id)
);
    
create table CAR_GENEROS (
  id             number,
  codigo            number,
  generos           varchar2(50),
  constraint pk_car_generos primary key (id, codigo, generos),
  constraint fk_car_generos_jogo foreign key (id, codigo)
                references JOGO (id, codigo)
);

create table COMPRA (
  email         varchar2(50),
  id         number,
  codigo        number,    
  valor         number,    
  meio_de_pag   varchar(50),
  constraint pk_compra primary key (email, id, codigo),
  constraint fk_compra_consumidor foreign key (email)
                references CONSUMIDOR (email),
  constraint fk_compra_jogo foreign key (id, codigo)
                references JOGO (id, codigo)
);


create table ELEGIVEL_PROM (
 id          number,
 email          varchar2(50),
 id_dev         number not null,
 codigo         number,
 constraint pk_elegivel_prom primary key (id, email, id_dev, codigo),
 constraint fk_elegivel_prom_promocao foreign key (id)
                references PROMOCAO (id),
 constraint fk_elegivel_prom_compra foreign key (email, id, codigo)
                references COMPRA (email, id, codigo) 
);

create table CONTRATO (
  cpf               varchar2(11 CHAR),
  id             number,
  data_contrato     date,
  constraint pk_contrato primary key (cpf, id),
  constraint fk_contrato_empregado foreign key (cpf)
                references EMPREGADO (cpf),
  constraint fk_contrato_desenvolvedora foreign key (id)
                references DESENVOLVEDORA (id)
);